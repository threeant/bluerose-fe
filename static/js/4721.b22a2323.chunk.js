"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4721],{55077:(e,s,o)=>{o.d(s,{A:()=>t});const t={apiUrl:"http://localhost:8080",wsUrl:"ws://localhost:8080/ws-stomp"}},69281:(e,s,o)=>{o.d(s,{A:()=>n});var t=o(77154),r=o(55077);const a=t.A.create({baseURL:r.A.apiUrl,timeout:5e3});a.interceptors.request.use((e=>{const s=sessionStorage.getItem("accessToken");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),(e=>{e.response.status;return console.log(">>>error"),console.log(e),Promise.reject(e)}));const n=a},24721:(e,s,o)=>{o.r(s),o.d(s,{default:()=>u});var t=o(65043),r=o(73216),a=o(77154),n=o(93946),c=o(6145),l=o(3550),i=o(85961),d=o(55077),p=o(69281),h=o(70579);const u=()=>{const e=(0,r.Zp)(),[s,o]=(0,t.useState)({id:"",password:""});return(0,h.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,h.jsx)(n.T5,{children:(0,h.jsx)(n.sK,{className:"justify-content-center",children:(0,h.jsx)(n.UF,{md:8,children:(0,h.jsx)(n.x$,{children:(0,h.jsx)(n.E$,{className:"p-4",children:(0,h.jsx)(n.W6,{children:(0,h.jsxs)(n.qI,{children:[(0,h.jsx)("h1",{children:"Login"}),(0,h.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,h.jsxs)(n.BG,{className:"mb-3",children:[(0,h.jsx)(n.sk,{children:(0,h.jsx)(c.A,{icon:l.o})}),(0,h.jsx)(n.OG,{id:"txtUserId",placeholder:"ID",autoComplete:"userId",onChange:e=>o({...s,id:e.target.value})})]}),(0,h.jsxs)(n.BG,{className:"mb-4",children:[(0,h.jsx)(n.sk,{children:(0,h.jsx)(c.A,{icon:i.q})}),(0,h.jsx)(n.OG,{id:"txtPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:e=>o({...s,password:e.target.value})})]}),(0,h.jsx)(n.sK,{children:(0,h.jsx)(n.UF,{xs:6,children:(0,h.jsx)(n.Q_,{component:"input",color:"primary",type:"submit",value:"Login",className:"px-4",onClick:async o=>{if(o.preventDefault(),console.log(s),s.id&&s.password)try{const o=await a.A.post(d.A.apiUrl+"/auth/admin/login",s,{headers:{"Content-Type":"application/json"}});if(console.log(o),200===o.status){const s=o.data.tokenInfo.accessToken;sessionStorage.setItem("accessToken",s),p.A.interceptors.request.use((e=>(s&&(e.headers.Authorization="Bearer ".concat(s)),e)),(e=>Promise.reject(e)));try{const s=await p.A.get("/api/code",{},{headers:{"Content-Type":"application/json"}});console.log(o.data);const t=s.data;console.log(t);const r=JSON.stringify(t);sessionStorage.setItem("codeData",r);const a=sessionStorage.getItem("codeData"),n=JSON.parse(a);for(const e of n)console.log(e.description),console.log(e.code),console.log(e.codes);e("/dashboard")}catch(t){console.error("Error fetching data:",t)}}else alert("\ub85c\uadf8\uc778 \uc2e4\ud328"),console.error("\ub85c\uadf8\uc778 \uc2e4\ud328"),console.log(o)}catch(t){alert(t.response.data.message),console.error("\uc624\ub958 \ubc1c\uc0dd:",t)}else alert("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694")}})})})]})})})})})})})})}}}]);
//# sourceMappingURL=4721.b22a2323.chunk.js.map