"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8207],{38207:(e,l,s)=>{s.r(l),s.d(l,{default:()=>x});var n=s(72791),i=(s(68639),s(24846)),r=s(57689),a=s(12620),c=s(78621),o=s(15614),t=s(78983),d=s(80184);const x=()=>{const e=(0,r.s0)(),[l,s]=(0,n.useState)(null),[x,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[j,p]=(0,n.useState)(!1),[f,b]=(0,n.useState)(""),[g,y]=(0,n.useState)(!1),v=async s=>{s.preventDefault();if(!1===s.currentTarget.checkValidity())return void s.stopPropagation();p(!1);const n=new FormData;if(n.append("file",l),console.log(l),l){try{u(!0),h(!0);const e=await a.Z.post("/api/albums/upload",n,{timeout:1e7,headers:{"Content-Type":"multipart/form-data"}});console.log("ResultUrl \uc751\ub2f5:",e.data),b(e.data),alert("\uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p(!0)}catch(i){console.log(i),(0,o._y)(i,e)}u(!1)}else alert("\uc5c5\ub85c\ub4dc\ud560 \ud30c\uc77c\uc744 \uc120\ud0dd\ud558\uc138\uc694.")};return(0,d.jsxs)(t.KB,{children:[(0,d.jsx)(t.rb,{children:(0,d.jsx)(t.b7,{children:(0,d.jsxs)(t.xH,{className:"mb-4",children:[(0,d.jsxs)(t.bn,{children:[(0,d.jsx)("strong",{children:"\ub300\uc6a9\ub7c9\uc5c5\ub85c\ub4dc"})," ",(0,d.jsx)("small",{children:x?"\uc9c4\ud589\uc911\uc778 \uacbd\uc6b0 \uc0c8\ub85c\uace0\uce68\uc744 \ud558\uc9c0\ub9c8\uc138\uc694.":"\uc591\uc2dd\uc5d0 \ub9de\uac8c \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694."})]}),(0,d.jsx)(t.sl,{children:(0,d.jsxs)(t.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:g,onSubmit:v,children:[(0,d.jsx)(t.b7,{xs:12,children:(0,d.jsx)(t.sl,{children:(0,d.jsx)(t.uS,{children:(0,d.jsx)(t.jO,{type:"file",id:"formFile",accept:".xlsx, .xls",onChange:e=>{const l=e.target.files[0];s(l)},disabled:m})})})}),(0,d.jsx)("div",{className:"d-grid gap-2",children:(0,d.jsx)(t.rb,{className:"justify-content-between",children:(0,d.jsx)(t.b7,{xs:12,children:(0,d.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[(0,d.jsxs)(t.u5,{color:"light",onClick:e=>{const l="/bluerose-fe/files/excel/form/excelUploadForm.xlsx";console.log("filePath"),console.log(l);const s=document.createElement("a");s.href=l,s.download=l.substr(l.lastIndexOf("/")+1),document.body.appendChild(s),console.log(s),s.click(),document.body.removeChild(s)},children:[(0,d.jsx)(i.Z,{icon:c.z,title:"Download file"})," \uc591\uc2dd\ub2e4\uc6b4\ub85c\ub4dc"]}),x?(0,d.jsxs)(t.u5,{color:"primary",disabled:!0,children:[(0,d.jsx)(t.LQ,{as:"span",size:"sm","aria-hidden":"true"}),"\uc9c4\ud589\uc911..."]}):j?(0,d.jsx)(t.u5,{component:"input",color:"danger",onClick:()=>{window.location.reload()},value:"\ub2e4\uc2dc \ub4f1\ub85d\ud558\uae30"}):(0,d.jsx)(t.u5,{component:"input",color:"primary",type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})})})})]})})]})})}),j?(0,d.jsx)(t.rb,{children:(0,d.jsx)(t.b7,{children:(0,d.jsxs)(t.xH,{className:"mb-4",children:[(0,d.jsxs)(t.bn,{children:[(0,d.jsx)("strong",{children:"\ub300\uc6a9\ub7c9\uc5c5\ub85c\ub4dc \uacb0\uacfc"})," ",(0,d.jsx)("small",{})]}),(0,d.jsx)(t.sl,{children:(0,d.jsxs)(t.lx,{className:"row g-3 needs-validation",noValidate:!0,validated:g,onSubmit:v,children:[(0,d.jsx)(t.b7,{xs:12,children:(0,d.jsx)(t.sl,{children:(0,d.jsx)(t.uS,{children:"\uc5c5\ub85c\ub4dc \uc644\ub8cc. \uc2e4\ud328\ubaa9\ub85d\uc744 \ub2e4\uc6b4\ub85c\ub4dc\ud558\uc5ec \ud655\uc778\ud558\uc138\uc694."})})}),(0,d.jsx)("div",{className:"d-grid gap-2",children:(0,d.jsx)(t.rb,{className:"justify-content-between",children:(0,d.jsx)(t.b7,{xs:12,children:(0,d.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:(0,d.jsxs)(t.u5,{color:"primary",onClick:e=>{var l=f.indexOf("/files/excel");const s="/bluerose-fe"+f.substring(l),n=document.createElement("a");n.href=s,n.download=s.substr(s.lastIndexOf("/")+1),document.body.appendChild(n),console.log(n),n.click(),document.body.removeChild(n)},children:[(0,d.jsx)(i.Z,{icon:c.z,title:"Download file"})," \uc2e4\ud328\ubaa9\ub85d \ub2e4\uc6b4\ub85c\ub4dc"]})})})})})]})})]})})}):""]})}},78621:(e,l,s)=>{s.d(l,{z:()=>n});var n=["512 512","<rect width='480' height='32' x='16' y='464' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='395.313 299.313 372.687 276.687 280 369.373 280 16 248 16 248 369.373 155.313 276.687 132.687 299.313 264 430.627 395.313 299.313' class='ci-primary'/>"]},68639:()=>{}}]);
//# sourceMappingURL=8207.ef27d692.chunk.js.map