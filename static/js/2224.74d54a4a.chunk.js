"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2224],{81837:(e,a,t)=>{t.d(a,{Z:()=>n});t(72791);var s=t(78983),l=t(80184);const n=e=>{let{totalPages:a,currentPage:t,onPageChange:n}=e;return(0,l.jsxs)(s.E7,{"aria-label":"Page navigation example",children:[(0,l.jsx)(s.tn,{"aria-label":"Previous",disabled:1===t,onClick:()=>n(t-1),children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(()=>{const e=[],r=Math.floor(2.5);let i=Math.max(1,t-r),c=Math.min(a,i+5-1);t<=r?(i=1,c=Math.min(a,5)):t>=a-r&&(i=Math.max(1,a-5+1),c=a);for(let a=i;a<=c;a++)e.push((0,l.jsx)(s.tn,{active:a===t,onClick:()=>n(a),children:a},a));return e})(),(0,l.jsx)(s.tn,{"aria-label":"Next",disabled:t===a,onClick:()=>n(t+1),children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})}},22224:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(72791),l=t(59513),n=t.n(l),r=(t(68639),t(24846)),i=t(57689),c=t(15614),d=t(12620),o=t(81837),m=t(78983),x=t(49909),h=t(80184);const u=()=>{const e=(0,i.s0)(),[a]=((0,i.TH)(),(0,s.useState)((0,c.ri)("MEDIA"))),[t]=(0,s.useState)((0,c.ri)("CNTRY")),[l,u]=(0,s.useState)(null),[j,p]=(0,s.useState)(null),[g,b]=(0,s.useState)(1),[N,f]=(0,s.useState)(0),[v,y]=(0,s.useState)(""),[S,D]=(0,s.useState)({artist:"",endReleaseDate:"",musicGenre:"",name:"",page:0,size:15,startReleaseDate:"",mediaCode:""}),[C,R]=(0,s.useState)(!1),k=(a,t)=>{a.preventDefault(),localStorage.setItem("alblumListSearch",JSON.stringify(S)),e("/music/albumInfo",{state:{albumId:t,listSearch:S}})},[I,M]=(0,s.useState)({contents:[]}),w=e=>{b(e),_(e)};(0,s.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("alblumListSearch"));e?(D(e),w(e.page),R(!0),localStorage.removeItem("alblumListSearch")):_(0)}),[]),(0,s.useEffect)((()=>{C&&(w(S.page),localStorage.removeItem("alblumListSearch"))}),[C]);const _=async a=>{if(a>-1&&(D((e=>({...e,page:a}))),S.page=a),console.log(S),S.endReleaseDate||S.startReleaseDate){if(!S.endReleaseDate)return void alert("\ub4f1\ub85d\uc77c \uae30\uac04\uc744 \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!S.startReleaseDate)return void alert("\ub4f1\ub85d\uc77c \uae30\uac04\uc744 \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}try{const e=(await d.Z.get("/api/albums",{params:S,headers:{"Content-Type":"application/json"}})).data;M(e),console.log(e),f(e.totalPages)}catch(t){(0,c._y)(t,e)}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(m.rb,{children:(0,h.jsx)(m.b7,{children:(0,h.jsxs)(m.xH,{className:"mb-4",children:[(0,h.jsx)(m.bn,{children:"\uc568\ubc94\uac80\uc0c9"}),(0,h.jsxs)(m.sl,{children:[(0,h.jsxs)(m.lx,{className:"row",onSubmit:_,children:[(0,h.jsxs)(m.rb,{className:"mb-3",children:[(0,h.jsx)(m.b7,{xs:1,children:(0,h.jsx)(m.L8,{htmlFor:"inputMedia",className:"col-form-label",children:"\ubbf8\ub514\uc5b4"})}),(0,h.jsx)(m.b7,{xs:5,children:(0,h.jsxs)(m.LX,{id:"inputMedia","aria-label":"\ubbf8\ub514\uc5b4",value:S.mediaCode,onChange:e=>D({...S,mediaCode:e.target.value}),children:[(0,h.jsx)("option",{children:"-\uc804\uccb4-"}),a.map(((e,a)=>(0,h.jsx)("option",{value:e.id,children:e.name},a)))]})}),(0,h.jsx)(m.b7,{xs:1,children:(0,h.jsx)(m.L8,{htmlFor:"inputMusicGenre",className:"col-form-label",children:"\uc7a5\ub974"})}),(0,h.jsx)(m.b7,{xs:5,children:(0,h.jsx)(m.jO,{type:"text",id:"inputMusicGenre","aria-label":"\uc7a5\ub974",value:S.musicGenre,placeholder:"\uc804\uccb4",onChange:e=>D({...S,musicGenre:e.target.value})})})]}),(0,h.jsxs)(m.rb,{className:"mb-3",children:[(0,h.jsx)(m.b7,{xs:1,children:(0,h.jsx)(m.L8,{htmlFor:"inputName",className:"col-form-label",children:"\uc568\ubc94\uba85"})}),(0,h.jsx)(m.b7,{xs:5,children:(0,h.jsx)(m.jO,{type:"text",id:"inputName","aria-label":"\uc568\ubc94\uba85",placeholder:"\uc804\uccb4",value:S.name,onChange:e=>D({...S,name:e.target.value})})}),(0,h.jsx)(m.b7,{xs:1,children:(0,h.jsx)(m.L8,{htmlFor:"inputArtist",className:"col-form-label",children:"\uc544\ud2f0\uc2a4\ud2b8"})}),(0,h.jsx)(m.b7,{md:5,children:(0,h.jsx)(m.jO,{type:"text",id:"inputArtist","aria-label":"\uc544\ud2f0\uc2a4\ud2b8",placeholder:"\uc804\uccb4",value:S.artist,onChange:e=>D({...S,artist:e.target.value})})})]}),(0,h.jsxs)(m.rb,{className:"mb-3",children:[(0,h.jsx)(m.b7,{md:1,children:(0,h.jsx)(m.L8,{htmlFor:"inputEmail3",className:"col-form-label",children:"\ub4f1\ub85d\uc77c"})}),(0,h.jsx)(m.b7,{md:5,children:(0,h.jsxs)("div",{style:{display:"flex"},children:[(0,h.jsx)("div",{style:{display:"grid",placeItems:"center",marginRight:5},children:(0,h.jsx)(r.Z,{className:"text-secondary",icon:x.J,size:"lg"})}),(0,h.jsx)("div",{children:(0,h.jsx)(n(),{selected:l,onChange:e=>{if(u(e),!e)return;const a=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);console.log(a),D({...S,startReleaseDate:a})},dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date("2000-01-01"),maxDate:new Date,className:"DatePicker",value:S.startReleaseDate})}),(0,h.jsx)("div",{style:{whiteSpace:"pre-wrap",display:"grid",placeItems:"center"},children:(0,h.jsx)("span",{children:" ~ "})}),(0,h.jsx)("div",{style:{display:"grid",placeItems:"center",marginRight:5},children:(0,h.jsx)(r.Z,{className:"text-secondary",icon:x.J,size:"lg"})}),(0,h.jsx)("div",{children:(0,h.jsx)(n(),{selected:j,onChange:e=>{if(p(e),!e)return;const a=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);D({...S,endReleaseDate:a})},dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date("2000-01-01"),maxDate:new Date,className:"DatePicker",value:S.endReleaseDate})})]})})]}),(0,h.jsx)("div",{className:"d-grid gap-2",children:(0,h.jsxs)(m.rb,{className:"justify-content-between",children:[(0,h.jsx)(m.b7,{xs:4,children:(0,h.jsx)(m.u5,{component:"input",type:"button",color:"danger",value:"\ub4f1\ub85d\ud558\uae30",onClick:()=>{e("/music/albumReg")}})}),(0,h.jsx)(m.b7,{xs:4,children:(0,h.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[(0,h.jsx)(m.u5,{component:"input",type:"reset",color:"light",value:"\ucd08\uae30\ud654",onClick:e=>{u(null),p(null),D({artist:"",endReleaseDate:"",musicGenre:"",name:"",page:1,size:15,startReleaseDate:"",mediaCode:""})}}),(0,h.jsx)(m.u5,{component:"input",color:"primary",type:"button",value:"\uc870\ud68c\ud558\uae30",onClick:e=>{e.preventDefault(),w(1)}})]})})]})})]}),(0,h.jsx)("br",{}),(0,h.jsxs)(m.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,h.jsx)(m.V,{color:"light",children:(0,h.jsxs)(m.T6,{children:[(0,h.jsx)(m.is,{className:"text-center",children:"No"}),(0,h.jsx)(m.is,{className:"text-center",children:"\ubbf8\ub514\uc5b4"}),(0,h.jsx)(m.is,{className:"text-center",children:"\uc568\ubc94\uba85"}),(0,h.jsx)(m.is,{className:"text-center",children:"\uc544\ud2f0\uc2a4\ud2b8"}),(0,h.jsx)(m.is,{className:"text-center",children:"\ubc1c\ub9e4\uc77c"})]})}),(0,h.jsx)(m.NR,{children:I.contents&&I.contents.length>0?I.contents.map(((e,a)=>(0,h.jsxs)(m.T6,{"v-for":"item in tableItems",onClick:a=>k(a,e.id),children:[(0,h.jsx)(m.NN,{className:"text-center",children:(0,h.jsx)("strong",{children:e.id})}),(0,h.jsx)(m.NN,{className:"text-center",children:(0,h.jsx)("strong",{children:e.mediaName})}),(0,h.jsx)(m.NN,{className:"text-left",children:(0,h.jsx)("a",{href:"/",onClick:a=>k(a,e.id),children:e.name})}),(0,h.jsx)(m.NN,{className:"text-left",children:e.artist}),(0,h.jsx)(m.NN,{className:"text-center",children:e.releaseDate})]},a))):(0,h.jsx)(m.T6,{"v-for":"item in tableItems",children:(0,h.jsx)(m.NN,{className:"text-center",colSpan:6,children:"\uc870\ud68c\ub41c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."},0)})})]}),(0,h.jsx)("br",{}),I.contents&&I.contents.length>0?(0,h.jsxs)(m.rb,{children:[(0,h.jsx)(m.b7,{md:{span:6,offset:5},children:(0,h.jsx)(o.Z,{totalPages:N,currentPage:g,onPageChange:w})}),(0,h.jsxs)(m.b7,{md:1,children:["\ucd1d ",I.totalCount,"\uac74"]})]}):""]})]})})})})}}}]);
//# sourceMappingURL=2224.74d54a4a.chunk.js.map