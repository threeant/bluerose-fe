"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3024],{74968:(e,s,o)=>{o.d(s,{Z:()=>t});const t={apiUrl:"http://localhost:8080",wsUrl:"ws://localhost:8080/ws-stomp"}},12620:(e,s,o)=>{o.d(s,{Z:()=>n});var t=o(55294),r=o(74968);const a=t.Z.create({baseURL:r.Z.apiUrl,timeout:5e3});a.interceptors.request.use((e=>{const s=sessionStorage.getItem("accessToken");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),(e=>{e.response.status;return console.log(">>>error"),console.log(e),Promise.reject(e)}));const n=a},23024:(e,s,o)=>{o.r(s),o.d(s,{default:()=>u});var t=o(72791),r=o(57689),a=o(55294),n=o(78983),c=o(24846),l=o(99161),i=o(93647),d=o(74968),p=o(12620),h=o(80184);const u=()=>{const e=(0,r.s0)(),[s,o]=(0,t.useState)({id:"",password:""});return(0,h.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,h.jsx)(n.KB,{children:(0,h.jsx)(n.rb,{className:"justify-content-center",children:(0,h.jsx)(n.b7,{md:8,children:(0,h.jsx)(n.dL,{children:(0,h.jsx)(n.xH,{className:"p-4",children:(0,h.jsx)(n.sl,{children:(0,h.jsxs)(n.lx,{children:[(0,h.jsx)("h1",{children:"Login"}),(0,h.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,h.jsxs)(n.YR,{className:"mb-3",children:[(0,h.jsx)(n.wV,{children:(0,h.jsx)(c.Z,{icon:l.E})}),(0,h.jsx)(n.jO,{id:"txtUserId",placeholder:"ID",autoComplete:"userId",onChange:e=>o({...s,id:e.target.value})})]}),(0,h.jsxs)(n.YR,{className:"mb-4",children:[(0,h.jsx)(n.wV,{children:(0,h.jsx)(c.Z,{icon:i.U})}),(0,h.jsx)(n.jO,{id:"txtPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:e=>o({...s,password:e.target.value})})]}),(0,h.jsx)(n.rb,{children:(0,h.jsx)(n.b7,{xs:6,children:(0,h.jsx)(n.u5,{component:"input",color:"primary",type:"submit",value:"Login",className:"px-4",onClick:async o=>{if(o.preventDefault(),console.log(s),s.id&&s.password)try{const o=await a.Z.post(d.Z.apiUrl+"/auth/admin/login",s,{headers:{"Content-Type":"application/json"}});if(console.log(o),200===o.status){const s=o.data.tokenInfo.accessToken;sessionStorage.setItem("accessToken",s),p.Z.interceptors.request.use((e=>(s&&(e.headers.Authorization="Bearer ".concat(s)),e)),(e=>Promise.reject(e)));try{const s=await p.Z.get("/api/code",{},{headers:{"Content-Type":"application/json"}});console.log(o.data);const t=s.data;console.log(t);const r=JSON.stringify(t);sessionStorage.setItem("codeData",r);const a=sessionStorage.getItem("codeData"),n=JSON.parse(a);for(const e of n)console.log(e.description),console.log(e.code),console.log(e.codes);e("/dashboard")}catch(t){console.error("Error fetching data:",t)}}else alert("\ub85c\uadf8\uc778 \uc2e4\ud328"),console.error("\ub85c\uadf8\uc778 \uc2e4\ud328"),console.log(o)}catch(t){alert(t.response.data.message),console.error("\uc624\ub958 \ubc1c\uc0dd:",t)}else alert("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694")}})})})]})})})})})})})})}}}]);
//# sourceMappingURL=3024.4605760a.chunk.js.map