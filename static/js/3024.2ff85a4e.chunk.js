"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3024],{26385:(e,s,t)=>{t.d(s,{Z:()=>i});t(72791);var o=t(78983),r=t(96188),n=t(24846),a=t(80184);const c=(e,s,t,c)=>(0,a.jsxs)(o.Tk,{alignment:"center",visible:e,onClose:s,"aria-labelledby":"VerticallyCenteredExample",children:[(0,a.jsx)(o.p0,{children:(0,a.jsx)(o.fl,{id:"VerticallyCenteredExample",children:(0,a.jsx)(n.Z,{icon:r.$})})}),(0,a.jsx)(o.sD,{children:t}),(0,a.jsxs)(o.Ym,{children:[(0,a.jsx)(o.u5,{color:"secondary",onClick:s,children:"\ucde8\uc18c"}),(0,a.jsx)(o.u5,{color:"primary",onClick:c,children:"\ud655\uc778"})]})]}),l=(e,s,t,c)=>{const l=()=>{s(),c&&c()};return(0,a.jsxs)(o.Tk,{alignment:"center",visible:e,onClose:l,"aria-labelledby":"VerticallyCenteredExample",children:[(0,a.jsx)(o.p0,{children:(0,a.jsx)(o.fl,{id:"VerticallyCenteredExample",children:(0,a.jsx)(n.Z,{icon:r.$})})}),(0,a.jsx)(o.sD,{children:t}),(0,a.jsx)(o.Ym,{children:(0,a.jsx)(o.u5,{color:"secondary",onClick:l,children:"\ud655\uc778"})})]})},i=e=>{let{type:s,visible:t,onClose:o,alertText:r,onAccpet:n,aftFunc:a}=e;return"confirm"==s?c(t,o,r,n):"alert"==s?l(t,o,r,a):void 0}},74968:(e,s,t)=>{t.d(s,{Z:()=>o});const o={apiUrl:"http://localhost:8080",wsUrl:"ws://localhost:8080/ws-stomp"}},12620:(e,s,t)=>{t.d(s,{Z:()=>a});var o=t(55294),r=t(74968);const n=o.Z.create({baseURL:r.Z.apiUrl,timeout:5e3});n.interceptors.request.use((e=>{const s=sessionStorage.getItem("accessToken");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),(e=>{e.response.status;return console.log(">>>error"),console.log(e),Promise.reject(e)}));const a=n},23024:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var o=t(72791),r=t(57689),n=t(55294),a=t(78983),c=t(24846),l=t(99161),i=t(93647),d=t(74968),h=t(12620),p=t(26385),x=t(80184);const u=()=>{const e=(0,r.s0)(),[s,t]=(0,o.useState)({id:"",password:""}),[u,j]=(0,o.useState)(""),[m,g]=(0,o.useState)(!1),[y,b]=(0,o.useState)(""),f=(e,s)=>{j(e),b(s),g(!0)};return(0,x.jsxs)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:[(0,x.jsx)(p.Z,{type:u,visible:m,onClose:()=>{g(!1)},alertText:y}),(0,x.jsx)(a.KB,{children:(0,x.jsx)(a.rb,{className:"justify-content-center",children:(0,x.jsx)(a.b7,{md:8,children:(0,x.jsx)(a.dL,{children:(0,x.jsx)(a.xH,{className:"p-4",children:(0,x.jsx)(a.sl,{children:(0,x.jsxs)(a.lx,{children:[(0,x.jsx)("h1",{children:"Login"}),(0,x.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account."}),(0,x.jsxs)(a.YR,{className:"mb-3",children:[(0,x.jsx)(a.wV,{children:(0,x.jsx)(c.Z,{icon:l.E})}),(0,x.jsx)(a.jO,{id:"txtUserId",placeholder:"ID",autoComplete:"userId",onChange:e=>t({...s,id:e.target.value})})]}),(0,x.jsxs)(a.YR,{className:"mb-4",children:[(0,x.jsx)(a.wV,{children:(0,x.jsx)(c.Z,{icon:i.U})}),(0,x.jsx)(a.jO,{id:"txtPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:e=>t({...s,password:e.target.value})})]}),(0,x.jsx)(a.rb,{children:(0,x.jsx)(a.b7,{xs:6,children:(0,x.jsx)(a.u5,{component:"input",color:"primary",type:"submit",value:"Login",className:"px-4",onClick:async t=>{if(t.preventDefault(),s.id&&s.password)try{const t=await n.Z.post(d.Z.apiUrl+"/auth/admin/login",s,{headers:{"Content-Type":"application/json"}});if(console.log(t),200===t.status){const s=t.data.tokenInfo.accessToken;sessionStorage.setItem("accessToken",s),h.Z.interceptors.request.use((e=>(s&&(e.headers.Authorization="Bearer ".concat(s)),e)),(e=>Promise.reject(e)));try{const s=await h.Z.get("/api/code",{},{headers:{"Content-Type":"application/json"}});console.log(t.data);const o=s.data;console.log(o);const r=JSON.stringify(o);sessionStorage.setItem("codeData",r);const n=sessionStorage.getItem("codeData"),a=JSON.parse(n);for(const e of a)console.log(e.description),console.log(e.code),console.log(e.codes);e("/dashboard")}catch(o){console.error("Error fetching data:",o)}}else f("alert","\ub85c\uadf8\uc778 \uc624\ub958 [\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.]"),console.log(t)}catch(o){f("alert",o.response.data.message),console.error("\uc624\ub958 \ubc1c\uc0dd:",o)}else f("alert","\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.")}})})})]})})})})})})})]})}}}]);
//# sourceMappingURL=3024.2ff85a4e.chunk.js.map