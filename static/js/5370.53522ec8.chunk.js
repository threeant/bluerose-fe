"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5370],{84836:(e,a,s)=>{s.d(a,{A:()=>n});s(65043);var t=s(93946),l=s(70579);const n=e=>{let{totalPages:a,currentPage:s,onPageChange:n}=e;return(0,l.jsxs)(t._l,{"aria-label":"Page navigation example",children:[(0,l.jsx)(t.Xp,{"aria-label":"Previous",disabled:1===s,onClick:()=>n(s-1),children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),(()=>{const e=[],i=Math.floor(2.5);let r=Math.max(1,s-i),c=Math.min(a,r+5-1);s<=i?(r=1,c=Math.min(a,5)):s>=a-i&&(r=Math.max(1,a-5+1),c=a);for(let a=r;a<=c;a++)e.push((0,l.jsx)(t.Xp,{active:a===s,onClick:()=>n(a),children:a},a));return e})(),(0,l.jsx)(t.Xp,{"aria-label":"Next",disabled:s===a,onClick:()=>n(s+1),children:(0,l.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})}},15370:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(65043),l=s(31899),n=s.n(l),i=(s(25015),s(6145)),r=s(73216),c=s(38937),d=s(69281),o=s(84836),m=s(93946),x=s(89379),h=s(70579);const u=()=>{const e=(0,r.Zp)(),[a]=((0,r.zy)(),(0,t.useState)((0,c.i1)("MEDIA"))),[s]=(0,t.useState)((0,c.i1)("CNTRY")),[l,u]=(0,t.useState)(null),[j,p]=(0,t.useState)(null),[g,f]=(0,t.useState)(1),[b,v]=(0,t.useState)(0),[N,C]=(0,t.useState)(""),[y,S]=(0,t.useState)({artist:"",endReleaseDate:"",musicGenre:"",name:"",page:0,size:15,startReleaseDate:"",mediaCode:""}),[D,F]=(0,t.useState)(!1),I=(a,s)=>{a.preventDefault(),localStorage.setItem("alblumListSearch",JSON.stringify(y)),e("/music/albumInfo",{state:{albumId:s,listSearch:y}})},[_,R]=(0,t.useState)({contents:[]}),M=e=>{f(e),U(e)};(0,t.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("alblumListSearch"));e?(S(e),M(e.page),F(!0),localStorage.removeItem("alblumListSearch")):U(0)}),[]),(0,t.useEffect)((()=>{D&&(M(y.page),localStorage.removeItem("alblumListSearch"))}),[D]);const U=async a=>{if(a>-1&&(S((e=>({...e,page:a}))),y.page=a),console.log(y),y.endReleaseDate||y.startReleaseDate){if(!y.endReleaseDate)return void alert("\ub4f1\ub85d\uc77c \uae30\uac04\uc744 \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!y.startReleaseDate)return void alert("\ub4f1\ub85d\uc77c \uae30\uac04\uc744 \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}try{const e=(await d.A.get("/api/albums",{params:y,headers:{"Content-Type":"application/json"}})).data;R(e),console.log(e),v(e.totalPages)}catch(s){(0,c.$8)(s,e)}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(m.sK,{children:(0,h.jsx)(m.UF,{children:(0,h.jsxs)(m.E$,{className:"mb-4",children:[(0,h.jsx)(m.V0,{children:"\uc568\ubc94\uac80\uc0c9"}),(0,h.jsxs)(m.W6,{children:[(0,h.jsxs)(m.qI,{className:"row",onSubmit:U,children:[(0,h.jsxs)(m.sK,{className:"mb-3",children:[(0,h.jsx)(m.UF,{xs:1,children:(0,h.jsx)(m.A6,{htmlFor:"inputMedia",className:"col-form-label",children:"\ubbf8\ub514\uc5b4"})}),(0,h.jsx)(m.UF,{xs:5,children:(0,h.jsxs)(m.MT,{id:"inputMedia","aria-label":"\ubbf8\ub514\uc5b4",value:y.mediaCode,onChange:e=>S({...y,mediaCode:e.target.value}),children:[(0,h.jsx)("option",{children:"-\uc804\uccb4-"}),a.map(((e,a)=>(0,h.jsx)("option",{value:e.id,children:e.name},a)))]})}),(0,h.jsx)(m.UF,{xs:1,children:(0,h.jsx)(m.A6,{htmlFor:"inputMusicGenre",className:"col-form-label",children:"\uc7a5\ub974"})}),(0,h.jsx)(m.UF,{xs:5,children:(0,h.jsx)(m.OG,{type:"text",id:"inputMusicGenre","aria-label":"\uc7a5\ub974",value:y.musicGenre,placeholder:"\uc804\uccb4",onChange:e=>S({...y,musicGenre:e.target.value})})})]}),(0,h.jsxs)(m.sK,{className:"mb-3",children:[(0,h.jsx)(m.UF,{xs:1,children:(0,h.jsx)(m.A6,{htmlFor:"inputName",className:"col-form-label",children:"\uc568\ubc94\uba85"})}),(0,h.jsx)(m.UF,{xs:5,children:(0,h.jsx)(m.OG,{type:"text",id:"inputName","aria-label":"\uc568\ubc94\uba85",placeholder:"\uc804\uccb4",value:y.name,onChange:e=>S({...y,name:e.target.value})})}),(0,h.jsx)(m.UF,{xs:1,children:(0,h.jsx)(m.A6,{htmlFor:"inputArtist",className:"col-form-label",children:"\uc544\ud2f0\uc2a4\ud2b8"})}),(0,h.jsx)(m.UF,{md:5,children:(0,h.jsx)(m.OG,{type:"text",id:"inputArtist","aria-label":"\uc544\ud2f0\uc2a4\ud2b8",placeholder:"\uc804\uccb4",value:y.artist,onChange:e=>S({...y,artist:e.target.value})})})]}),(0,h.jsxs)(m.sK,{className:"mb-3",children:[(0,h.jsx)(m.UF,{md:1,children:(0,h.jsx)(m.A6,{htmlFor:"inputEmail3",className:"col-form-label",children:"\ub4f1\ub85d\uc77c"})}),(0,h.jsx)(m.UF,{md:5,children:(0,h.jsxs)("div",{style:{display:"flex"},children:[(0,h.jsx)("div",{style:{display:"grid",placeItems:"center",marginRight:5},children:(0,h.jsx)(i.A,{className:"text-secondary",icon:x.$,size:"lg"})}),(0,h.jsx)("div",{children:(0,h.jsx)(n(),{selected:l,onChange:e=>{if(u(e),!e)return;const a=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);console.log(a),S({...y,startReleaseDate:a})},dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date("2000-01-01"),maxDate:new Date,className:"DatePicker",value:y.startReleaseDate})}),(0,h.jsx)("div",{style:{whiteSpace:"pre-wrap",display:"grid",placeItems:"center"},children:(0,h.jsx)("span",{children:" ~ "})}),(0,h.jsx)("div",{style:{display:"grid",placeItems:"center",marginRight:5},children:(0,h.jsx)(i.A,{className:"text-secondary",icon:x.$,size:"lg"})}),(0,h.jsx)("div",{children:(0,h.jsx)(n(),{selected:j,onChange:e=>{if(p(e),!e)return;const a=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);S({...y,endReleaseDate:a})},dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date("2000-01-01"),maxDate:new Date,className:"DatePicker",value:y.endReleaseDate})})]})})]}),(0,h.jsx)("div",{className:"d-grid gap-2",children:(0,h.jsxs)(m.sK,{className:"justify-content-between",children:[(0,h.jsx)(m.UF,{xs:4,children:(0,h.jsx)(m.Q_,{component:"input",type:"button",color:"danger",value:"\ub4f1\ub85d\ud558\uae30",onClick:()=>{e("/music/albumReg")}})}),(0,h.jsx)(m.UF,{xs:4,children:(0,h.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[(0,h.jsx)(m.Q_,{component:"input",type:"reset",color:"light",value:"\ucd08\uae30\ud654",onClick:e=>{u(null),p(null),S({artist:"",endReleaseDate:"",musicGenre:"",name:"",page:1,size:15,startReleaseDate:"",mediaCode:""})}}),(0,h.jsx)(m.Q_,{component:"input",color:"primary",type:"button",value:"\uc870\ud68c\ud558\uae30",onClick:e=>{e.preventDefault(),M(1)}})]})})]})})]}),(0,h.jsx)("br",{}),(0,h.jsxs)(m._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,h.jsx)(m.wV,{color:"light",children:(0,h.jsxs)(m.YI,{children:[(0,h.jsx)(m.$s,{className:"text-center",children:"No"}),(0,h.jsx)(m.$s,{className:"text-center",children:"\ubbf8\ub514\uc5b4"}),(0,h.jsx)(m.$s,{className:"text-center",children:"\uc568\ubc94\uba85"}),(0,h.jsx)(m.$s,{className:"text-center",children:"\uc544\ud2f0\uc2a4\ud2b8"}),(0,h.jsx)(m.$s,{className:"text-center",children:"\ubc1c\ub9e4\uc77c"})]})}),(0,h.jsx)(m.jS,{children:_.contents&&_.contents.length>0?_.contents.map(((e,a)=>(0,h.jsxs)(m.YI,{"v-for":"item in tableItems",onClick:a=>I(a,e.id),children:[(0,h.jsx)(m.cC,{className:"text-center",children:(0,h.jsx)("strong",{children:e.id})}),(0,h.jsx)(m.cC,{className:"text-center",children:(0,h.jsx)("strong",{children:e.mediaName})}),(0,h.jsx)(m.cC,{className:"text-left",children:(0,h.jsx)("a",{href:"/",onClick:a=>I(a,e.id),children:e.name})}),(0,h.jsx)(m.cC,{className:"text-left",children:e.artist}),(0,h.jsx)(m.cC,{className:"text-center",children:e.releaseDate})]},a))):(0,h.jsx)(m.YI,{"v-for":"item in tableItems",children:(0,h.jsx)(m.cC,{className:"text-center",colSpan:6,children:"\uc870\ud68c\ub41c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."},0)})})]}),(0,h.jsx)("br",{}),_.contents&&_.contents.length>0?(0,h.jsxs)(m.sK,{children:[(0,h.jsx)(m.UF,{md:{span:6,offset:5},children:(0,h.jsx)(o.A,{totalPages:b,currentPage:g,onPageChange:M})}),(0,h.jsxs)(m.UF,{md:1,children:["\ucd1d ",_.totalCount,"\uac74"]})]}):""]})]})})})})}}}]);
//# sourceMappingURL=5370.53522ec8.chunk.js.map