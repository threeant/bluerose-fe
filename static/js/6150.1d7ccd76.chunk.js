"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6150],{6150:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var n=t(65043),a=t(31899),l=t.n(a),c=(t(25015),t(6145)),i=t(73216),r=t(69281),d=t(38937),o=t(93946),x=t(89379),h=t(70579);const m=()=>{const e=(0,i.Zp)(),[s,t]=(0,n.useState)(null),[a,m]=(0,n.useState)(null),[j,g]=(0,n.useState)({startDate:"",endDate:"",page:1,size:15}),p=e=>{console.log(e),t(e);const s=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);console.log(s),g((e=>({...e,startDate:s})))},u=e=>{m(e);const s=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);g((e=>({...e,endDate:s})))};(0,n.useEffect)((()=>{const e=new Date,s=new Date(e.getTime()-6048e5);p(s),u(e)}),[]);const[f,y]=(0,n.useState)({contents:[]}),D=(e,s)=>{e.preventDefault(),j.page=s,v(),console.log("===page =  : "+s)},v=async s=>{s.preventDefault(),console.log(j);try{const e=(await r.A.get("/api/song-request/history",{params:j,headers:{"Content-Type":"application/json"}})).data;y(e),console.log(e)}catch(t){console.log(t),(0,d.$8)(t,e)}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(o.sK,{children:(0,h.jsx)(o.UF,{children:(0,h.jsxs)(o.E$,{className:"mb-4",children:[(0,h.jsx)(o.V0,{children:(0,h.jsx)("strong",{children:"\uc2e0\uccad\uace1 \ud788\uc2a4\ud1a0\ub9ac \uac80\uc0c9"})}),(0,h.jsxs)(o.W6,{children:[(0,h.jsxs)(o.qI,{className:"row",onSubmit:v,children:[(0,h.jsxs)(o.sK,{className:"mb-3",children:[(0,h.jsx)(o.UF,{md:1,children:(0,h.jsx)(o.A6,{htmlFor:"inputEmail3",className:"col-form-label",children:"\uac80\uc0c9\uc77c"})}),(0,h.jsx)(o.UF,{md:5,children:(0,h.jsxs)("div",{style:{display:"flex"},children:[(0,h.jsx)("div",{style:{display:"grid",placeItems:"center",marginRight:5},children:(0,h.jsx)(c.A,{className:"text-secondary",icon:x.$,size:"lg"})}),(0,h.jsx)("div",{children:(0,h.jsx)(l(),{selected:s,onChange:p,dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date("2000-01-01"),maxDate:new Date,className:"DatePicker",value:j.startDate})}),(0,h.jsx)("div",{style:{whiteSpace:"pre-wrap",display:"grid",placeItems:"center"},children:(0,h.jsx)("span",{children:" ~ "})}),(0,h.jsx)("div",{style:{display:"grid",placeItems:"center",marginRight:5},children:(0,h.jsx)(c.A,{className:"text-secondary",icon:x.$,size:"lg"})}),(0,h.jsx)("div",{children:(0,h.jsx)(l(),{selected:a,onChange:u,dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date("2000-01-01"),maxDate:new Date,className:"DatePicker",value:j.endDate})})]})})]}),(0,h.jsx)("div",{className:"d-grid gap-2",children:(0,h.jsx)(o.sK,{className:"justify-content-between",children:(0,h.jsx)(o.UF,{xs:12,children:(0,h.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[(0,h.jsx)(o.Q_,{component:"input",type:"reset",color:"light",value:"\ucd08\uae30\ud654",onClick:e=>{g({startDate:"",endDate:"",page:1,size:1});const s=new Date,t=new Date(s.getTime()-6048e5);p(t),u(s)}}),(0,h.jsx)(o.Q_,{component:"input",color:"primary",type:"submit",value:"\uc870\ud68c\ud558\uae30"})]})})})})]}),(0,h.jsx)("br",{}),(0,h.jsxs)(o._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,h.jsx)(o.wV,{color:"light",children:(0,h.jsxs)(o.YI,{children:[(0,h.jsx)(o.$s,{className:"text-center",children:"No"}),(0,h.jsx)(o.$s,{className:"text-center",children:"\ub0a0\uc9dc"}),(0,h.jsx)(o.$s,{className:"text-center",children:"\uc2e0\uccad\uace1\uc218"})]})}),(0,h.jsx)(o.jS,{children:f.contents&&f.contents.length>0?f.contents.map(((s,t)=>(0,h.jsxs)(o.YI,{"v-for":"item in tableItems",children:[(0,h.jsx)(o.cC,{className:"text-center",children:(0,h.jsx)("strong",{children:t+1})}),(0,h.jsx)(o.cC,{className:"text-center",children:(0,h.jsx)("a",{href:"/",onClick:t=>((s,t)=>{s.preventDefault(),console.log("goInfoClick : "+t),e("/music/musicReqHisInfo",{state:{dateStr:t}})})(t,s.date),children:s.date})}),(0,h.jsx)(o.cC,{className:"text-center",children:s.numberOfSongRequested})]},t))):(0,h.jsx)(o.YI,{"v-for":"item in tableItems",children:(0,h.jsx)(o.cC,{className:"text-center",colSpan:6,children:"\uc870\ud68c\ub41c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."},0)})})]}),(0,h.jsx)("br",{}),f.contents&&f.contents.length>0?(0,h.jsxs)(o.sK,{children:[(0,h.jsx)(o.UF,{md:{span:6,offset:5},children:(0,h.jsxs)(o._l,{"aria-label":"Page navigation example",children:[(0,h.jsx)(o.Xp,{"aria-label":"Previous",disabled:!f.first,onClick:e=>D(e,1),children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xab"})}),Array.from({length:f.totalPages},((e,s)=>(0,h.jsx)(o.Xp,{active:!0,onClick:e=>D(e,s+1),children:s+1},s))),(0,h.jsx)(o.Xp,{"aria-label":"Next",disabled:!f.last,children:(0,h.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})]})}),(0,h.jsxs)(o.UF,{md:1,children:["\ucd1d ",f.totalCount,"\uac74"]})]}):""]})]})})})})}}}]);
//# sourceMappingURL=6150.1d7ccd76.chunk.js.map